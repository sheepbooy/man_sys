{#{% load static %}#}
{#<!DOCTYPE html>#}
{#<html lang="en">#}
{#<head>#}
{#    <meta charset="UTF-8">#}
{#    <title>管理系统</title>#}
{#    <link rel="stylesheet" href="{% static 'plugins/bootstrap-5.3.0/css/bootstrap.min.css' %}">#}
{#    <link rel="stylesheet" href="{% static 'plugins/datepicker/dist/datepicker.css' %}">#}
{#    <style>#}
{#        .active {#}
{#            font-weight: bold;#}
{#            font-size: larger;#}
{#        }#}
{#    </style>#}
{#    {% block css %}#}
{#    {% endblock %}#}
{##}
{#</head>#}
{#<body>#}
{#<nav class="navbar navbar-expand-lg navbar-light bg-light">#}
{#    <div class="container">#}
{#        <div class="collapse navbar-collapse" id="navbarSupportedContent">#}
{#            <ul class="navbar-nav me-auto mb-2 mb-lg-0">#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/home/">管理系统</a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/report/">报表管理</a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/customer/management/">客户管理</a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/project/management/">项目管理</a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/ledger/management/">台账管理</a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/user/management/">用户管理</a>#}
{#                </li>#}
{#                <li class="nav-item dropdown">#}
{#                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"#}
{#                       data-bs-toggle="dropdown" aria-expanded="false">#}
{#                        更多选项#}
{#                    </a>#}
{#                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">#}
{#                        <li><a class="dropdown-item" href="#">动作</a></li>#}
{#                        <li><a class="dropdown-item" href="#">另一个动作</a></li>#}
{#                        <li>#}
{#                            <hr class="dropdown-divider">#}
{#                        </li>#}
{#                        <li><a class="dropdown-item" href="#">其他选项</a></li>#}
{#                    </ul>#}
{#                </li>#}
{#            </ul>#}
{##}
{#            <ul class="navbar-nav">#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="#">登录</a>#}
{#                </li>#}
{#                <li class="nav-item dropdown">#}
{#                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"#}
{#                       data-bs-toggle="dropdown" aria-expanded="false">#}
{#                        {{ request.session.info.name }}#}
{#                    </a>#}
{#                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">#}
{#                        <li><a class="dropdown-item" href="/detail/{{ request.session.info.work_id }}/">我的信息</a>#}
{#                        </li>#}
{#                        <li>#}
{#                            <hr class="dropdown-divider">#}
{#                        </li>#}
{#                        <li><a class="dropdown-item" href="/logout">注销</a></li>#}
{#                    </ul>#}
{#                </li>#}
{#            </ul>#}
{#        </div>#}
{#    </div>#}
{#</nav>#}
{##}
{#<div class="container">#}
{#    {% block content %}#}
{#    {% endblock %}#}
{#</div>#}
{##}
{#<script src="{% static 'js/jquery-3.7.1.min.js' %}"></script>#}
{#<script src="{% static 'plugins/bootstrap-5.3.0/js/bootstrap.bundle.min.js' %}"></script>#}
{#<script src="{% static 'plugins/datepicker/dist/datepicker.js' %}"></script>#}
{#<script>#}
{#    // 为导航链接添加点击事件#}
{#    $(document).ready(function () {#}
{#        $('.nav-link').each(function () {#}
{#            // 检查当前页面的URL是否与链接的href属性匹配#}
{#            if ($(this).attr('href') === window.location.pathname) {#}
{#                // 如果匹配，则添加active类#}
{#                $(this).addClass('active');#}
{#            }#}
{#        });#}
{#    });#}
{#</script>#}
{##}
{#{% block js %}#}
{#{% endblock %}#}
{#</body>#}
{#</html>#}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>管理系统</title>
    <link rel="stylesheet" href="{% static 'plugins/bootstrap-5.3.0/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/datepicker/dist/datepicker.css' %}">
    <style>
        .active {
            font-weight: bold;
            font-size: larger;
        }

        .sidebar {
            min-height: 100vh;
            width: 250px;
            position: fixed;
            z-index: 1;
            top: 56px; /* Adjusted top position to be below the fixed top navbar */
            left: 0;
            background-color: #f8f9fa;
            overflow-x: hidden;
            padding-top: 20px;
        }

        .sidebar a {
            padding: 10px 15px;
            text-decoration: none;
            font-size: 18px;
            color: #333;
            display: block;
        }

        .sidebar a.active {
            color: #007bff;
        }

        .sidebar a:hover {
            color: #007bff;
            text-decoration: none;
        }

        .content {
            margin-left: 250px;
            margin-top: 56px; /* Adjusted margin-top to be below the fixed top navbar */
            padding: 1px 16px;
            height: calc(100vh - 56px); /* Adjust height to fill the screen, minus the height of the top navbar */
            overflow-y: auto; /* Add scroll for vertical content */
        }

        .fixed-top-nav {
            width: 100%;
            position: fixed;
            z-index: 2;
            top: 0;
            left: 0;
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
        }
    </style>
    {% block css %}
    {% endblock %}

</head>
<body>

<div class="fixed-top-nav navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="">管理系统</a>
        <ul class="navbar-nav ms-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarUserDropdown" role="button"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    你好，{{ request.session.info.name }}
                </a>
                <ul class="dropdown-menu" aria-labelledby="navbarUserDropdown">
                    <li><a class="dropdown-item" href="/detail/{{ request.session.info.work_id }}/">我的信息</a></li>
                    <li><a class="dropdown-item" href="/logout">注销</a></li>
                </ul>
            </li>
        </ul>
    </div>
</div>

<div class="sidebar">
    <a href="/customer/management/"
       class="{% if request.path == '/customer/management/' %}active{% endif %}">客户管理</a>
    <a href="/project/management/" class="{% if request.path == '/project/management/' %}active{% endif %}">项目管理</a>
    <a href="/ledger/management/" class="{% if request.path == '/ledger/management/' %}active{% endif %}">台账管理</a>
    <a href="/user/management/" class="{% if request.path == '/user/management/' %}active{% endif %}">用户管理</a>
    <a href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        更多选项
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        <a class="dropdown-item" href="#">动作</a>
        <a class="dropdown-item" href="#">另一个动作</a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#">其他选项</a>
    </div>
</div>

<div class="content">
    {% block content %}
    {% endblock %}
</div>

<script src="{% static 'js/jquery-3.7.1.min.js' %}"></script>
<script src="{% static 'plugins/bootstrap-5.3.0/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'plugins/datepicker/dist/datepicker.js' %}"></script>
<script>
    // 为导航链接添加点击事件
    $(document).ready(function () {
        $('.sidebar a').each(function () {
            if ($(this).attr('href') === window.location.pathname) {
                $(this).addClass('active');
            }
        });
    });
</script>
{% block js %}
{% endblock %}
</body>
</html>
